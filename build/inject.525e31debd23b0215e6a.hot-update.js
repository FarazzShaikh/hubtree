webpackHotUpdate("inject",{

/***/ "./src/js/inject.js":
/*!**************************!*\
  !*** ./src/js/inject.js ***!
  \**************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(Buffer) {/* harmony import */ var tree_from_paths__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tree-from-paths */ \"./node_modules/tree-from-paths/src/index.js\");\n/* harmony import */ var tree_from_paths__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tree_from_paths__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _css_inject_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../css/inject.css */ \"./src/css/inject.css\");\n\n\n\nfunction base64url_encode($s) {\n  return str_replace(array(\"+\", \"/\"), array(\"-\", \"_\"), Buffer.from($s).toString(\"base64\"));\n}\n\n//Get the name of the repository\nconst getName = () => {\n  const name = window.location.href.split(\"github.com/\")[1];\n  //TODO - There is probably a better way to validate being in a repository\n  if (name && name.includes(\"/\")) return name;\n  throw new Error(\"Name does not exist\");\n};\n\nconst getTree = async (name) => {\n  try {\n    const endpoint = `repos/${name}/git/trees/master`;\n    const url = `https://api.farazshaikh.com/ghproxy/${base64url_encode(endpoint)}`;\n    const treeData = await fetch(url).then((res) => {\n      if (res.ok) return res.json();\n      throw new Error(\"Problem with request\");\n    });\n    const paths = treeData.tree.map((item) => item.path);\n    if (paths.length > 0) return { paths, name, tree: treeData.tree };\n    throw new Error(\"No paths\");\n  } catch (error) {\n    console.error(error);\n  }\n};\n\n//Make a directory tree and inject it into HTML\nconst createTree = ({ paths, name, tree }) => {\n  return Object(tree_from_paths__WEBPACK_IMPORTED_MODULE_0__[\"render\"])(paths, \"\", (parent, file, explicit) => {\n    const type = tree.find((item) => {\n      //Account for extra slash the package adds to file name\n      if (file[file.length - 1] === \"/\") return item.path === parent + file.slice(0, file.length - 1);\n      return item.path === parent + file;\n    }).type;\n    return `<a target=\"_blank\" class=\"link\" href=\" https://github.com/${name}/${type}/master/${parent}${file}\" > ${file}</a>  <br>`;\n  });\n};\n\n(async () => {\n  console.log(\"ABC\");\n  const ns = document.querySelector(\"ul.UnderlineNav-body\");\n  const html = `\n  <li data-view-component=\"true\" class=\"d-flex\">\n  <span id=\"tree-tab\" style=\"cursor: \"pointer\";\" data-tab-item=\"i7insights-tab\" data-selected-links=\"repo_graphs repo_contributors dependency_graph dependabot_updates pulse people community /tobenxe/hubtree/pulse\" data-ga-click=\"Repository, Navigation click, Insights tab\" data-view-component=\"true\" class=\"UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item\">\n    \n    \n  <svg class=\"octicon octicon-gear UnderlineNav-octicon d-none d-sm-inline\" display=\"none inline\" aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 12 16\" width=\"12\" style=\"margin-bottom: 5px; margin-right: 8px;\">\n  <path fill-rule=\"evenodd\"  d=\"M4.75 3C3.7835 3 3 3.7835 3 4.75C3 5.7165 3.7835 6.5 4.75 6.5C5.7165 6.5 6.5 5.7165 6.5 4.75C6.5 3.7835 5.7165 3 4.75 3ZM1.5 4.75C1.5 2.95507 2.95507 1.5 4.75 1.5C6.54493 1.5 8 2.95507 8 4.75C8 6.54493 6.54493 8 4.75 8C2.95507 8 1.5 6.54493 1.5 4.75Z\" />\n  <path fill-rule=\"evenodd\"  d=\"M15.25 9.5C14.2835 9.5 13.5 10.2835 13.5 11.25C13.5 12.2165 14.2835 13 15.25 13C16.2165 13 17 12.2165 17 11.25C17 10.2835 16.2165 9.5 15.25 9.5ZM12 11.25C12 9.4551 13.4551 8 15.25 8C17.0449 8 18.5 9.4551 18.5 11.25C18.5 13.0449 17.0449 14.5 15.25 14.5C13.4551 14.5 12 13.0449 12 11.25Z\" />\n  <path fill-rule=\"evenodd\"  d=\"M4.75 7.25C5.16421 7.25 5.5 7.67416 5.5 8.19737V18.3026C5.5 18.8258 5.16421 19.25 4.75 19.25C4.33579 19.25 4 18.8258 4 18.3026V8.19737C4 7.67416 4.33579 7.25 4.75 7.25Z\" />\n  <path fill-rule=\"evenodd\"  d=\"M13.5 11.75C13.5 12.1642 13.1642 12.5 12.75 12.5L4.75 12.5C4.3358 12.5 4 12.1642 4 11.75C4 11.3358 4.3358 11 4.75 11L12.75 11C13.1642 11 13.5 11.3358 13.5 11.75Z\" />\n  <path fill-rule=\"evenodd\"  d=\"M13.5 18.75C13.5 19.1642 13.1642 19.5 12.75 19.5L4.75 19.5C4.3358 19.5 4 19.1642 4 18.75C4 18.3358 4.3358 18 4.75 18L12.75 18C13.1642 18 13.5 18.3358 13.5 18.75Z\"/>\n  <path fill-rule=\"evenodd\"  d=\"M15.25 16.5C14.2835 16.5 13.5 17.2835 13.5 18.25C13.5 19.2165 14.2835 20 15.25 20C16.2165 20 17 19.2165 17 18.25C17 17.2835 16.2165 16.5 15.25 16.5ZM12 18.25C12 16.4551 13.4551 15 15.25 15C17.0449 15 18.5 16.4551 18.5 18.25C18.5 20.0449 17.0449 21.5 15.25 21.5C13.4551 21.5 12 20.0449 12 18.25Z\" />\n  </svg>\n\n    <span data-content=\"Insights\">Tree</span>\n    <span title=\"Not available\" data-view-component=\"true\" class=\"Counter\"></span>\n\n    \n</span></li>\n  `;\n\n  ns.insertAdjacentHTML(\"beforeend\", html);\n\n  const span = ns.querySelector(\"#tree-tab\");\n\n  span.addEventListener(\"click\", async () => {\n    const name = getName();\n    const treeObj = await getTree(name);\n    const tree = createTree(treeObj);\n\n    const box = document.querySelector(\".Box.mb-3\");\n    const header = box.querySelector(\".Box-header\");\n    const boxPrev = box.innerHTML;\n\n    const boxReplacement = `\n    <div class=\"hubtree-main\">\n        ${tree}\n    </div>\n    `;\n\n    box.innerHTML = boxReplacement;\n    box.prepend(header);\n\n    console.log(box);\n  });\n})();\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../node_modules/buffer/index.js */ \"./node_modules/buffer/index.js\").Buffer))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvaW5qZWN0LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2luamVjdC5qcz85YmNjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHJlbmRlciB9IGZyb20gXCJ0cmVlLWZyb20tcGF0aHNcIjtcbmltcG9ydCBcIi4uL2Nzcy9pbmplY3QuY3NzXCI7XG5cbmZ1bmN0aW9uIGJhc2U2NHVybF9lbmNvZGUoJHMpIHtcbiAgcmV0dXJuIHN0cl9yZXBsYWNlKGFycmF5KFwiK1wiLCBcIi9cIiksIGFycmF5KFwiLVwiLCBcIl9cIiksIEJ1ZmZlci5mcm9tKCRzKS50b1N0cmluZyhcImJhc2U2NFwiKSk7XG59XG5cbi8vR2V0IHRoZSBuYW1lIG9mIHRoZSByZXBvc2l0b3J5XG5jb25zdCBnZXROYW1lID0gKCkgPT4ge1xuICBjb25zdCBuYW1lID0gd2luZG93LmxvY2F0aW9uLmhyZWYuc3BsaXQoXCJnaXRodWIuY29tL1wiKVsxXTtcbiAgLy9UT0RPIC0gVGhlcmUgaXMgcHJvYmFibHkgYSBiZXR0ZXIgd2F5IHRvIHZhbGlkYXRlIGJlaW5nIGluIGEgcmVwb3NpdG9yeVxuICBpZiAobmFtZSAmJiBuYW1lLmluY2x1ZGVzKFwiL1wiKSkgcmV0dXJuIG5hbWU7XG4gIHRocm93IG5ldyBFcnJvcihcIk5hbWUgZG9lcyBub3QgZXhpc3RcIik7XG59O1xuXG5jb25zdCBnZXRUcmVlID0gYXN5bmMgKG5hbWUpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBlbmRwb2ludCA9IGByZXBvcy8ke25hbWV9L2dpdC90cmVlcy9tYXN0ZXJgO1xuICAgIGNvbnN0IHVybCA9IGBodHRwczovL2FwaS5mYXJhenNoYWlraC5jb20vZ2hwcm94eS8ke2Jhc2U2NHVybF9lbmNvZGUoZW5kcG9pbnQpfWA7XG4gICAgY29uc3QgdHJlZURhdGEgPSBhd2FpdCBmZXRjaCh1cmwpLnRoZW4oKHJlcykgPT4ge1xuICAgICAgaWYgKHJlcy5vaykgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQcm9ibGVtIHdpdGggcmVxdWVzdFwiKTtcbiAgICB9KTtcbiAgICBjb25zdCBwYXRocyA9IHRyZWVEYXRhLnRyZWUubWFwKChpdGVtKSA9PiBpdGVtLnBhdGgpO1xuICAgIGlmIChwYXRocy5sZW5ndGggPiAwKSByZXR1cm4geyBwYXRocywgbmFtZSwgdHJlZTogdHJlZURhdGEudHJlZSB9O1xuICAgIHRocm93IG5ldyBFcnJvcihcIk5vIHBhdGhzXCIpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICB9XG59O1xuXG4vL01ha2UgYSBkaXJlY3RvcnkgdHJlZSBhbmQgaW5qZWN0IGl0IGludG8gSFRNTFxuY29uc3QgY3JlYXRlVHJlZSA9ICh7IHBhdGhzLCBuYW1lLCB0cmVlIH0pID0+IHtcbiAgcmV0dXJuIHJlbmRlcihwYXRocywgXCJcIiwgKHBhcmVudCwgZmlsZSwgZXhwbGljaXQpID0+IHtcbiAgICBjb25zdCB0eXBlID0gdHJlZS5maW5kKChpdGVtKSA9PiB7XG4gICAgICAvL0FjY291bnQgZm9yIGV4dHJhIHNsYXNoIHRoZSBwYWNrYWdlIGFkZHMgdG8gZmlsZSBuYW1lXG4gICAgICBpZiAoZmlsZVtmaWxlLmxlbmd0aCAtIDFdID09PSBcIi9cIikgcmV0dXJuIGl0ZW0ucGF0aCA9PT0gcGFyZW50ICsgZmlsZS5zbGljZSgwLCBmaWxlLmxlbmd0aCAtIDEpO1xuICAgICAgcmV0dXJuIGl0ZW0ucGF0aCA9PT0gcGFyZW50ICsgZmlsZTtcbiAgICB9KS50eXBlO1xuICAgIHJldHVybiBgPGEgdGFyZ2V0PVwiX2JsYW5rXCIgY2xhc3M9XCJsaW5rXCIgaHJlZj1cIiBodHRwczovL2dpdGh1Yi5jb20vJHtuYW1lfS8ke3R5cGV9L21hc3Rlci8ke3BhcmVudH0ke2ZpbGV9XCIgPiAke2ZpbGV9PC9hPiAgPGJyPmA7XG4gIH0pO1xufTtcblxuKGFzeW5jICgpID0+IHtcbiAgY29uc29sZS5sb2coXCJBQkNcIik7XG4gIGNvbnN0IG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcInVsLlVuZGVybGluZU5hdi1ib2R5XCIpO1xuICBjb25zdCBodG1sID0gYFxuICA8bGkgZGF0YS12aWV3LWNvbXBvbmVudD1cInRydWVcIiBjbGFzcz1cImQtZmxleFwiPlxuICA8c3BhbiBpZD1cInRyZWUtdGFiXCIgc3R5bGU9XCJjdXJzb3I6IFwicG9pbnRlclwiO1wiIGRhdGEtdGFiLWl0ZW09XCJpN2luc2lnaHRzLXRhYlwiIGRhdGEtc2VsZWN0ZWQtbGlua3M9XCJyZXBvX2dyYXBocyByZXBvX2NvbnRyaWJ1dG9ycyBkZXBlbmRlbmN5X2dyYXBoIGRlcGVuZGFib3RfdXBkYXRlcyBwdWxzZSBwZW9wbGUgY29tbXVuaXR5IC90b2JlbnhlL2h1YnRyZWUvcHVsc2VcIiBkYXRhLWdhLWNsaWNrPVwiUmVwb3NpdG9yeSwgTmF2aWdhdGlvbiBjbGljaywgSW5zaWdodHMgdGFiXCIgZGF0YS12aWV3LWNvbXBvbmVudD1cInRydWVcIiBjbGFzcz1cIlVuZGVybGluZU5hdi1pdGVtIGh4X3VuZGVybGluZW5hdi1pdGVtIG5vLXdyYXAganMtcmVzcG9uc2l2ZS11bmRlcmxpbmVuYXYtaXRlbSBqcy1zZWxlY3RlZC1uYXZpZ2F0aW9uLWl0ZW1cIj5cbiAgICBcbiAgICBcbiAgPHN2ZyBjbGFzcz1cIm9jdGljb24gb2N0aWNvbi1nZWFyIFVuZGVybGluZU5hdi1vY3RpY29uIGQtbm9uZSBkLXNtLWlubGluZVwiIGRpc3BsYXk9XCJub25lIGlubGluZVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIGhlaWdodD1cIjE2XCIgdmVyc2lvbj1cIjEuMVwiIHZpZXdCb3g9XCIwIDAgMTIgMTZcIiB3aWR0aD1cIjEyXCIgc3R5bGU9XCJtYXJnaW4tYm90dG9tOiA1cHg7IG1hcmdpbi1yaWdodDogOHB4O1wiPlxuICA8cGF0aCBmaWxsLXJ1bGU9XCJldmVub2RkXCIgIGQ9XCJNNC43NSAzQzMuNzgzNSAzIDMgMy43ODM1IDMgNC43NUMzIDUuNzE2NSAzLjc4MzUgNi41IDQuNzUgNi41QzUuNzE2NSA2LjUgNi41IDUuNzE2NSA2LjUgNC43NUM2LjUgMy43ODM1IDUuNzE2NSAzIDQuNzUgM1pNMS41IDQuNzVDMS41IDIuOTU1MDcgMi45NTUwNyAxLjUgNC43NSAxLjVDNi41NDQ5MyAxLjUgOCAyLjk1NTA3IDggNC43NUM4IDYuNTQ0OTMgNi41NDQ5MyA4IDQuNzUgOEMyLjk1NTA3IDggMS41IDYuNTQ0OTMgMS41IDQuNzVaXCIgLz5cbiAgPHBhdGggZmlsbC1ydWxlPVwiZXZlbm9kZFwiICBkPVwiTTE1LjI1IDkuNUMxNC4yODM1IDkuNSAxMy41IDEwLjI4MzUgMTMuNSAxMS4yNUMxMy41IDEyLjIxNjUgMTQuMjgzNSAxMyAxNS4yNSAxM0MxNi4yMTY1IDEzIDE3IDEyLjIxNjUgMTcgMTEuMjVDMTcgMTAuMjgzNSAxNi4yMTY1IDkuNSAxNS4yNSA5LjVaTTEyIDExLjI1QzEyIDkuNDU1MSAxMy40NTUxIDggMTUuMjUgOEMxNy4wNDQ5IDggMTguNSA5LjQ1NTEgMTguNSAxMS4yNUMxOC41IDEzLjA0NDkgMTcuMDQ0OSAxNC41IDE1LjI1IDE0LjVDMTMuNDU1MSAxNC41IDEyIDEzLjA0NDkgMTIgMTEuMjVaXCIgLz5cbiAgPHBhdGggZmlsbC1ydWxlPVwiZXZlbm9kZFwiICBkPVwiTTQuNzUgNy4yNUM1LjE2NDIxIDcuMjUgNS41IDcuNjc0MTYgNS41IDguMTk3MzdWMTguMzAyNkM1LjUgMTguODI1OCA1LjE2NDIxIDE5LjI1IDQuNzUgMTkuMjVDNC4zMzU3OSAxOS4yNSA0IDE4LjgyNTggNCAxOC4zMDI2VjguMTk3MzdDNCA3LjY3NDE2IDQuMzM1NzkgNy4yNSA0Ljc1IDcuMjVaXCIgLz5cbiAgPHBhdGggZmlsbC1ydWxlPVwiZXZlbm9kZFwiICBkPVwiTTEzLjUgMTEuNzVDMTMuNSAxMi4xNjQyIDEzLjE2NDIgMTIuNSAxMi43NSAxMi41TDQuNzUgMTIuNUM0LjMzNTggMTIuNSA0IDEyLjE2NDIgNCAxMS43NUM0IDExLjMzNTggNC4zMzU4IDExIDQuNzUgMTFMMTIuNzUgMTFDMTMuMTY0MiAxMSAxMy41IDExLjMzNTggMTMuNSAxMS43NVpcIiAvPlxuICA8cGF0aCBmaWxsLXJ1bGU9XCJldmVub2RkXCIgIGQ9XCJNMTMuNSAxOC43NUMxMy41IDE5LjE2NDIgMTMuMTY0MiAxOS41IDEyLjc1IDE5LjVMNC43NSAxOS41QzQuMzM1OCAxOS41IDQgMTkuMTY0MiA0IDE4Ljc1QzQgMTguMzM1OCA0LjMzNTggMTggNC43NSAxOEwxMi43NSAxOEMxMy4xNjQyIDE4IDEzLjUgMTguMzM1OCAxMy41IDE4Ljc1WlwiLz5cbiAgPHBhdGggZmlsbC1ydWxlPVwiZXZlbm9kZFwiICBkPVwiTTE1LjI1IDE2LjVDMTQuMjgzNSAxNi41IDEzLjUgMTcuMjgzNSAxMy41IDE4LjI1QzEzLjUgMTkuMjE2NSAxNC4yODM1IDIwIDE1LjI1IDIwQzE2LjIxNjUgMjAgMTcgMTkuMjE2NSAxNyAxOC4yNUMxNyAxNy4yODM1IDE2LjIxNjUgMTYuNSAxNS4yNSAxNi41Wk0xMiAxOC4yNUMxMiAxNi40NTUxIDEzLjQ1NTEgMTUgMTUuMjUgMTVDMTcuMDQ0OSAxNSAxOC41IDE2LjQ1NTEgMTguNSAxOC4yNUMxOC41IDIwLjA0NDkgMTcuMDQ0OSAyMS41IDE1LjI1IDIxLjVDMTMuNDU1MSAyMS41IDEyIDIwLjA0NDkgMTIgMTguMjVaXCIgLz5cbiAgPC9zdmc+XG5cbiAgICA8c3BhbiBkYXRhLWNvbnRlbnQ9XCJJbnNpZ2h0c1wiPlRyZWU8L3NwYW4+XG4gICAgPHNwYW4gdGl0bGU9XCJOb3QgYXZhaWxhYmxlXCIgZGF0YS12aWV3LWNvbXBvbmVudD1cInRydWVcIiBjbGFzcz1cIkNvdW50ZXJcIj48L3NwYW4+XG5cbiAgICBcbjwvc3Bhbj48L2xpPlxuICBgO1xuXG4gIG5zLmluc2VydEFkamFjZW50SFRNTChcImJlZm9yZWVuZFwiLCBodG1sKTtcblxuICBjb25zdCBzcGFuID0gbnMucXVlcnlTZWxlY3RvcihcIiN0cmVlLXRhYlwiKTtcblxuICBzcGFuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgbmFtZSA9IGdldE5hbWUoKTtcbiAgICBjb25zdCB0cmVlT2JqID0gYXdhaXQgZ2V0VHJlZShuYW1lKTtcbiAgICBjb25zdCB0cmVlID0gY3JlYXRlVHJlZSh0cmVlT2JqKTtcblxuICAgIGNvbnN0IGJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuQm94Lm1iLTNcIik7XG4gICAgY29uc3QgaGVhZGVyID0gYm94LnF1ZXJ5U2VsZWN0b3IoXCIuQm94LWhlYWRlclwiKTtcbiAgICBjb25zdCBib3hQcmV2ID0gYm94LmlubmVySFRNTDtcblxuICAgIGNvbnN0IGJveFJlcGxhY2VtZW50ID0gYFxuICAgIDxkaXYgY2xhc3M9XCJodWJ0cmVlLW1haW5cIj5cbiAgICAgICAgJHt0cmVlfVxuICAgIDwvZGl2PlxuICAgIGA7XG5cbiAgICBib3guaW5uZXJIVE1MID0gYm94UmVwbGFjZW1lbnQ7XG4gICAgYm94LnByZXBlbmQoaGVhZGVyKTtcblxuICAgIGNvbnNvbGUubG9nKGJveCk7XG4gIH0pO1xufSkoKTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/inject.js\n");

/***/ })

})